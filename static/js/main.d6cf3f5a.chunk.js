(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{29:function(e,t,n){},52:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),o=n.n(r),s=(n(29),n(12)),i=n(4),u=n.n(i),l=n(10),b=n(5),j=n(22),m=n.n(j),h=(n(51),n(52),n(13)),f=(n(53),n(1)),g=function(e){var t=e.onClose,n=e.image;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(f.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsx)("div",{className:"Modal",children:Object(f.jsx)("img",{src:n,alt:""})})})},p=function(e){var t=e.onClick;return Object(f.jsx)("button",{className:"Button",onClick:t,children:"Load more"})},d=n(23),O=n.n(d),v=function(e){var t=e.webformatURL,n=e.largeImageURL;return Object(f.jsx)("li",{className:"ImageGalleryItem",children:Object(f.jsx)("img",{src:t,alt:"","data-image":n,className:"ImageGalleryItem-image"})})},x=Object(a.memo)(v),w=function(e){var t=e.images,n=e.onClick;return Object(f.jsx)("ul",{className:"ImageGallery",onClick:n,children:t.map((function(e){var t=e.webformatURL,n=e.largeImageURL;return Object(f.jsx)(x,{webformatURL:t,largeImageURL:n},O.a.generate())}))})},k=function(e){var t=e.onSubmit,n=e.value,a=e.onChange;return Object(f.jsx)("header",{className:"Searchbar",children:Object(f.jsxs)("form",{className:"SearchForm",onSubmit:t,children:[Object(f.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(f.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(f.jsx)("input",{className:"SearchForm-input",name:"searchInput",value:n,onChange:a,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},C=n(24),S=n.n(C);function y(e,t){return S.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("21932135-4f5d77beca28a3dee23c5711e")).then((function(e){return e.data.hits.length>0?e.data.hits:Promise.reject(new Error("No match found"))}))}var N=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(b.a)(r,2),i=o[0],j=o[1],d=Object(a.useState)(1),O=Object(b.a)(d,2),v=O[0],x=O[1],C=Object(a.useState)(!1),S=Object(b.a)(C,2),N=S[0],I=S[1],L=Object(a.useState)(!1),F=Object(b.a)(L,2),E=F[0],R=F[1],U=Object(a.useState)(""),B=Object(b.a)(U,2),G=B[0],M=B[1];Object(a.useEffect)((function(){n.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[n]);var P=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i){e.next=3;break}return e.abrupt("return");case 3:return I(!0),e.next=6,y(i,v).then((function(e){c(e),x(1)})).catch((function(e){h.b.error("".concat(e.message),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}));case 6:I(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,y(i,v).then((function(e){return c([].concat(Object(s.a)(n),Object(s.a)(e)))}));case 3:I(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){v>1&&T()}),[v]);var H=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("IMG"===(n=t.target).nodeName){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,M(n.dataset.image);case 5:D();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){R(!E)};return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(k,{onSubmit:P,value:i,onChange:function(e){var t=e.target.value;j(t)}}),Object(f.jsx)(w,{onClick:H,images:n}),N&&Object(f.jsx)(m.a,{type:"Oval",color:"#3f51b5",height:40,width:40}),n.length>0&&!N&&Object(f.jsx)(p,{onClick:function(){return x(v+1)}}),E&&Object(f.jsx)(g,{image:G,onClose:function(){R(!1)},children:Object(f.jsx)("img",{src:G,alt:"Modal IMG"})}),Object(f.jsx)(h.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById("root")),I()}},[[81,1,2]]]);
//# sourceMappingURL=main.d6cf3f5a.chunk.js.map